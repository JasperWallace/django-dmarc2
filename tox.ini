[tox]
envlist = py{37},docs
skip_missing_interpreters = True

[testenv]
skipsdist = True
deps =
    isort
    pycodestyle
    pylint
    flake8
    pytest
    pytest-django
    pytest-pylint
    django>=2.2.0,<2.3.0
    psycopg2
    django-netfields
    pytz
commands =
    isort --check-only --diff -p dmarc
    pycodestyle
    pytest --pylint
    flake8 --ignore E501 --extend-exclude build,docs

[testenv:docs]
skipsdist = True
deps = Sphinx<1.7
commands = sphinx-build -aEnQW docs docs/_build/html
